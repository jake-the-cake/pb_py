<!DOCTYPE html>
<html lang="en">
<head>
	
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<title>Peak Bound Journeys{% if meta and meta.page_title != None %} | {{ meta.page_title }}{% endif %}</title>
	
	<link rel="stylesheet" href="/static/css/pb-theme.css">
	<link rel="stylesheet" href="/static/css/main.css">

	<script src="/static/js/main.js"></script>

</head>
<body>
	<div class="modal hidden">
		<form class='form-card sm-shadow-light' id='sign-up-form'>
			<div class="form-top">
				<span class="form-title">Create An Account</span>
				<p class='form-sm-text'>Receive updates and exclusive offers.</p>
			</div>
			<div class="form-line">
				<label for="first-name">First Name</label>
				<input type="text" name='first-name'>
			</div>
			<div class="form-line">
				<label for="last-name">Last Name</label>
				<input type="text" name='last-name'>
			</div>
			<div class="form-line">
				<label for="email">Email</label>
				<input type="email" name='email'>
			</div>
			<div class="form-line">
				<label for="age">Age Group</label>
				<select name="age">
					<option value="20s">Under 30</option>
					<option value="30s">30-39</option>
					<option value="40s">40-49</option>
					<option value="50s">50-59</option>
					<option value="old">60+</option>
				</select>
			</div>
			<div class="form-btns">
				<input type="submit" class='form-btn sm-shadow' value="Let's Go">
				<input id="no-thanks" type="button" class='form-btn-outline sm-shadow' value="No Thanks">
			</div>
		</form>
		<script>
			
			// capture the form
			form = document.getElementById('sign-up-form')
			
			// submit function
			form.onsubmit = async (e) => {
				e.preventDefault()
				const data = getFormDataObj(e.target)
				response = await apiPostRequest('/api/user/new', data)
				if (!response.error) hideModal()
				else console.error(response.error)
			}
			
			// make the cancel button close the modal
			cancel = form.querySelector('#no-thanks')
			cancel.onclick = (e) => hideModal()

		</script>
	</div>

	{% include "/components/pb-navbar.html" %}

	{% block content %} No Content. {% endblock content %}

</body>
</html>